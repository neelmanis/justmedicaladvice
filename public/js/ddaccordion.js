var ddaccordion={ajaxloadingmsg:'<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><br />Loading Content...',headergroup:{},contentgroup:{},preloadimages:function(e){e.each(function(){(new Image).src=this.src})},expandone:function(e,t,a){this.toggleone(e,t,"expand",a)},collapseone:function(e,t){this.toggleone(e,t,"collapse")},expandall:function(e){var t=this.headergroup[e];this.contentgroup[e].filter(":hidden").each(function(){t.eq(parseInt($(this).attr("contentindex"))).trigger("evt_accordion")})},collapseall:function(e){var t=this.headergroup[e];this.contentgroup[e].filter(":visible").each(function(){t.eq(parseInt($(this).attr("contentindex"))).trigger("evt_accordion")})},toggleone:function(e,t,a,n){var o=this.headergroup[e].eq(t),i=this.contentgroup[e].eq(t);(void 0===a||"expand"==a&&i.is(":hidden")||"collapse"==a&&i.is(":visible"))&&o.trigger("evt_accordion",[!1,n])},ajaxloadcontent:function(e,t,a,n){function o(e){e&&(i.cacheddata=e,i.status="cached",0==t.queue("fx").length&&(t.hide().html(e),i.status="complete",n())),"complete"!=i.status&&setTimeout(function(){o(i.cacheddata)},100)}var i=e.data("ajaxinfo");"none"==i.status?(t.html(this.ajaxloadingmsg),t.slideDown(a.animatespeed),i.status="loading",$.ajax({url:i.url,error:function(e){o("Error fetching content. Server Response: "+e.responseText)},success:function(e){o(e=""==e?" ":e)}})):"loading"==i.status&&o(i.cacheddata)},expandit:function(e,t,a,n,o,i,c){var s=e.data("ajaxinfo");s&&("none"==s.status||"loading"==s.status?this.ajaxloadcontent(e,t,a,function(){ddaccordion.expandit(e,t,a,n,o)}):"cached"==s.status&&(t.html(s.cacheddata),s.cacheddata=null,s.status="complete")),this.transformHeader(e,a,"expand"),t.slideDown(i?0:a.animatespeed,function(){if(a.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),n),c){var i=a.collapseprev?0:200;clearTimeout(a.sthtimer),a.sthtimer=setTimeout(function(){ddaccordion.scrollToHeader(e)},i)}if("gotourl"==a.postreveal&&o){var s=e.is("a")?e.get(0):e.find("a:eq(0)").get(0);s&&setTimeout(function(){location=s.href},200+(c?400+i:0))}})},scrollToHeader:function(e){ddaccordion.$docbody.stop().animate({scrollTop:e.offset().top-75},400)},collapseit:function(e,t,a,n){this.transformHeader(e,a,"collapse"),t.slideUp(a.animatespeed,function(){a.onopenclose(e.get(0),parseInt(e.attr("headerindex")),t.css("display"),n)})},transformHeader:function(e,t,a){e.addClass("expand"==a?t.cssclass.expand:t.cssclass.collapse).removeClass("expand"==a?t.cssclass.collapse:t.cssclass.expand),"src"==t.htmlsetting.location?(e=e.is("img")?e:e.find("img").eq(0)).attr("src","expand"==a?t.htmlsetting.expand:t.htmlsetting.collapse):"prefix"==t.htmlsetting.location?e.find(".accordprefix").empty().append("expand"==a?t.htmlsetting.expand:t.htmlsetting.collapse):"suffix"==t.htmlsetting.location&&e.find(".accordsuffix").empty().append("expand"==a?t.htmlsetting.expand:t.htmlsetting.collapse)},urlparamselect:function(e){var t=window.location.search.match(new RegExp(e+"=((\\d+)(,(\\d+))*)","i"));return null!=t&&(t=RegExp.$1.split(",")),t},getCookie:function(e){var t=new RegExp(e+"=[^;]+","i");return document.cookie.match(t)?document.cookie.match(t)[0].split("=")[1]:null},setCookie:function(e,t){document.cookie=e+"="+t+"; path=/"},init:function(e){document.write('<style type="text/css">\n'),document.write("."+e.contentclass+"{display: none}\n"),document.write("a.hiddenajaxlink{display: none}\n"),document.write("</style>"),jQuery(document).ready(function(t){ddaccordion.urlparamselect(e.headerclass);var a=ddaccordion.getCookie(e.headerclass);ddaccordion.headergroup[e.headerclass]=t("."+e.headerclass),ddaccordion.contentgroup[e.headerclass]=t("."+e.contentclass),ddaccordion.$docbody=window.opera?"CSS1Compat"==document.compatMode?jQuery("html"):jQuery("body"):jQuery("html,body");var n=ddaccordion.headergroup[e.headerclass],o=ddaccordion.contentgroup[e.headerclass];e.cssclass={collapse:e.toggleclass[0],expand:e.toggleclass[1]},e.revealtype=e.revealtype||"click",e.revealtype=e.revealtype.replace(/mouseover/i,"mouseenter"),"clickgo"==e.revealtype&&(e.postreveal="gotourl",e.revealtype="click"),void 0===e.togglehtml?e.htmlsetting={location:"none"}:e.htmlsetting={location:e.togglehtml[0],collapse:e.togglehtml[1],expand:e.togglehtml[2]},e.oninit=void 0===e.oninit?function(){}:e.oninit,e.onopenclose=void 0===e.onopenclose?function(){}:e.onopenclose;var i={},c=ddaccordion.urlparamselect(e.headerclass)||(e.persiststate&&null!=a?a:e.defaultexpanded);"string"==typeof c&&(c=c.replace(/c/gi,"").split(",")),1==c.length&&"-1"==c[0]&&(c=[]),e.collapseprev&&c.length>1&&(c=[c.pop()]),e.onemustopen&&0==c.length&&(c=[0]),n.each(function(a){var n=t(this);/(prefix)|(suffix)/i.test(e.htmlsetting.location)&&""!=n.html()&&(t('<span class="accordprefix"></span>').prependTo(this),t('<span class="accordsuffix fa"></span>').appendTo(this)),n.attr("headerindex",a+"h"),o.eq(a).attr("contentindex",a+"c");var s=o.eq(a),d=s.find("a.hiddenajaxlink:eq(0)");1==d.length&&n.data("ajaxinfo",{url:d.attr("href"),cacheddata:null,status:"none"});var r="number"==typeof c[0]?a:a+"";-1!=jQuery.inArray(r,c)?(ddaccordion.expandit(n,s,e,!1,!1,!e.animatedefault),i={$header:n,$content:s}):(s.hide(),e.onopenclose(n.get(0),parseInt(n.attr("headerindex")),s.css("display"),!1),ddaccordion.transformHeader(n,e,"collapse"))}),n.bind("evt_accordion",function(a,n,c){var s=o.eq(parseInt(t(this).attr("headerindex")));"none"==s.css("display")?(ddaccordion.expandit(t(this),s,e,!0,n,!1,c),e.collapseprev&&i.$header&&t(this).get(0)!=i.$header.get(0)&&ddaccordion.collapseit(i.$header,i.$content,e,!0),i={$header:t(this),$content:s}):(!e.onemustopen||e.onemustopen&&i.$header&&t(this).get(0)!=i.$header.get(0))&&ddaccordion.collapseit(t(this),s,e,!0)}),n.bind(e.revealtype,function(){if("mouseenter"!=e.revealtype)return t(this).trigger("evt_accordion",[!0,e.scrolltoheader]),!1;clearTimeout(e.revealdelay);var a=parseInt(t(this).attr("headerindex"));e.revealdelay=setTimeout(function(){ddaccordion.expandone(e.headerclass,a,e.scrolltoheader)},e.mouseoverdelay||0)}),n.bind("mouseleave",function(){clearTimeout(e.revealdelay)}),e.oninit(n.get(),c),t(window).bind("unload",function(){n.unbind();var a=[];o.filter(":visible").each(function(e){a.push(t(this).attr("contentindex"))}),1==e.persiststate&&n.length>0&&(a=0==a.length?"-1c":a,ddaccordion.setCookie(e.headerclass,a))})})}};ddaccordion.preloadimages(jQuery(ddaccordion.ajaxloadingmsg).filter("img"));