$(document).ready(function(){var hashcode=window.location.hash;if(hashcode=='#comment'){$('html, body').animate({scrollTop:$("#answerToTop").offset().top-120},200);$('#answer').focus();$('#commentTrigger').addClass('comment_trigger')}else if(hashcode=='#share'){$('html, body').animate({scrollTop:$(hashcode).offset().top-200},200)}
$("#searchText").keyup(function(){$('body').click(function(){$(".suggestion_dd").css("display","none")});var value=$("#searchText").val().trim();var length=value.length;var searchKey=value.slice(0);if(length>0){$.ajax({type:"POST",data:{searchKey:searchKey},url:CI_ROOT+"forum/search",success:function(result){if(result==1){$(".suggestion_dd").css("display","none")}else{$(".suggestion_dd").css("display","block");$(".suggestion_dd").html(result)}}})}else{$(".suggestion_dd").css("display","none")}});$("#postAnswer").click(function(e){e.preventDefault();var formdata=$("#answer_form").serialize();$.ajax({type:"POST",url:CI_ROOT+"forum/addAnswer",data:formdata,beforeSend:function(){$("#pageLoader").show()},success:function(result){if(result==1){swal({title:"Successful !",icon:"success",text:"Answer is posted."}).then(function(){location.reload(!0)})}else{swal({title:"Error !",icon:"error",text:result}).then(function(){location.reload(!0)})}}})});$("a.reply").click(function(e){e.preventDefault();var id=$(this).attr("id");$("#pid").attr("value",id);$('html, body').animate({scrollTop:$("#answerToTop").offset().top-120},200);$('#answer').focus();$('#commentTrigger').addClass('comment_trigger')});$('#answer').keypress(function(){$('#commentTrigger').removeClass('comment_trigger')});$("a.like").click(function(e){e.preventDefault();var id=$(this).attr("id");var utype=$('#utype').val();var uid=$('#uid').val();$.ajax({type:"POST",url:CI_ROOT+"forum/answerLike",data:{answerId:id,type:utype,user:uid},beforeSend:function(){$("#pageLoader").show()},success:function(result){if(result==1){window.location.reload(!0)}else{swal({title:"Error !",icon:"error",text:result}).then(function(){$("#pageLoader").hide()})}}})});$("a.dislike").click(function(e){e.preventDefault();var id=$(this).attr("id");var utype=$('#utype').val();var uid=$('#uid').val();$.ajax({type:"POST",url:CI_ROOT+"forum/answerDislike",data:{answerId:id,type:utype,user:uid},beforeSend:function(){$("#pageLoader").show()},success:function(result){if(result==1){window.location.reload(!0)}else{swal({title:"Error !",icon:"error",text:result}).then(function(){$("#pageLoader").hide()})}}})});$("a.report").click(function(e){e.preventDefault();var id=$(this).attr("id");$.ajax({type:"POST",url:CI_ROOT+"forum/addReport",data:{cid:id},beforeSend:function(){$("#pageLoader").show()},success:function(result){if(result==1){window.location.reload(!0)}else{swal({title:"Error !",icon:"error",text:result}).then(function(){$("#pageLoader").hide()})}}})});$("#postForum").click(function(e){e.preventDefault();var formdata=$("#ask_question").serialize();$.ajax({type:"POST",url:CI_ROOT+"forum/addMemberForumAction",data:formdata,beforeSend:function(){$("#pageLoader").show()},success:function(result){if(result==1){swal({title:"Successful !",icon:"success",text:"Forum is created."}).then(function(){location.href=CI_ROOT+"forum/listall"})}else if(result==2){swal({title:"Error !",icon:"error",text:"Forum Already Exist."}).then(function(){$("#pageLoader").hide()})}else{$("#formError").css("display","block");$('html, body').animate({scrollTop:$("#formError").offset().top-170},200);$("#formError").html(result).delay(5000).fadeOut();$("#pageLoader").hide()}}})})})